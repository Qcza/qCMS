<div [ngClass]="{'right-bar-show': show === 'show', 'right-bar-hide': show === 'hide', 'right-bar': show === 'default'}">
  <div class="extend-bar" (click)="showBar()">
    <i class="fa" [ngClass]="{'fa-chevron-left': show === 'hide' || show === 'default', 'fa-chevron-right': show === 'show'}"></i>
  </div>
  <div class="right-bar-content">
    <!-- NEW TEMPLATE -->
    <div class="new-template-form" *ngIf="scenario==='newTemplate'">
      <form name="newTemplate">
        <div class="form-group">
          <label for="templateName">Template name</label>
          <input id="templateName" name="templateName" class="form-control qcms-form-input" type="text" [(ngModel)]="templateName">
        </div>
        <div class="btn-group" data-toggle="buttons">
          <label class="btn btn-qcms btn-sm" [class.active]="templateDefault" [ngClass]="{'btn-qcms-reverse': templateDefault === true}">
            <input type="checkbox" name="newTemplateDefault" [(ngModel)]="templateDefault" (click)="refreshTemplate()"> default
          </label>
        </div>
        <div class="form-group">
          <label for="documentCollection">Collection</label>
          <div id="documentCollection" class="template-element-input" ngbDropdown>
            <span class="dropdown-element" ngbDropdownToggle><i class="template-element-icon-no-margin fa fa-database"></i></span>
            <input class="template-element-title-input" type="text" [(ngModel)]="documentCollection" name="documentCollection" placeholder="Name new">
            <ul class="dropdown-menu qcms-dropdown-menu">
              <li class="drodown-menu-element" *ngFor="let collection of documentCollections" (click)="choseCollection(collection);"><i class="template-element-icon fa fa-database"></i>{{collection}}</li>
            </ul>
          </div>
        </div>
        <div class="form-group">
          <label for="templateElements">Elements</label>
          <div id="templateElements">
            <div class="template-element" *ngFor="let element of templateElements">
              <i class="template-element-icon fa fa-{{element.icon}}"></i>{{element.title}}
              <button class="btn btn-qcms template-element-btn" (click)="removeElement(element.index)"><i class="fa fa-minus"></i></button>
            </div>
            <div class="template-element-input" ngbDropdown>
              <span class="dropdown-element" ngbDropdownToggle><i class="template-element-icon-no-margin fa fa-{{chosenElement.icon}}"></i></span>
              <input class="template-element-title-input" type="text" [(ngModel)]="chosenElement.title" name="chosenElementTitle" placeholder="Enter title">
              <button class="btn btn-qcms template-element-btn" (click)="addElement(chosenElement)" [disabled]="chosenElement.title === ''"><i class="fa fa-plus"></i></button>
              <ul class="dropdown-menu qcms-dropdown-menu">
                <li class="drodown-menu-element" *ngFor="let element of elementsList" (click)="choseElement(element);"><i class="template-element-icon fa fa-{{element.icon}}"></i>{{element.type}}</li>
              </ul>
            </div>
          </div>
        </div>
        <button class="btn btn-qcms pull-right" (click)="saveTemplate()" [disabled]="templateName === '' || templateElements.length === 0 || documentCollection.name === ''">Save</button>
        <div class="qcms-alert-fade-in right-bar-alert" [ngClass]="{'qcms-alert-fade-out': hideAlert === true}" *ngIf="showAlert === true">
          <ngb-alert [type]="alert.type" [dismissible]="alert.dismissible">{{alert.message}}</ngb-alert>
        </div>
      </form>
    </div>
    <!-- EDIT TEMPLATES -->
    <div class="edit-template-form-l" *ngIf="scenario==='editTemplate'">
      <div class="document-template" *ngFor="let template of templatesToEdit" on-mouseenter="template.is_selected = true" on-mouseout="template.is_selected = false" (click)="goDeep(template)">
        <i class="fa" [ngClass]="{'fa-file-o': !template.is_selected, 'fa-edit': template.is_selected === true}"></i>&nbsp;&nbsp;{{template.name}}
      </div>
      <div class="qcms-alert-fade-in right-bar-alert" [ngClass]="{'qcms-alert-fade-out': hideAlert === true}" *ngIf="showAlert === true">
        <ngb-alert [type]="alert.type" [dismissible]="alert.dismissible">{{alert.message}}</ngb-alert>
      </div>
    </div>
    <div class="edit-template-form-d" *ngIf="scenario==='editTemplateDeep'">
      <i class="fa fa-arrow-circle-o-left qcms-nav-icon" (click)="prevEditView()"></i>
      <hr />
      <form name="editTemplate">
        <div class="form-group">
          <label for="editTemplateName">Template name</label>
          <input id="editTemplateName" name="editTemplateName" class="form-control qcms-form-input" type="text" [(ngModel)]="template.name">
        </div>
        <div class="btn-group" data-toggle="buttons">
          <label class="btn btn-qcms btn-sm" [class.active]="editTemplateDefault" [ngClass]="{'btn-qcms-reverse': template.is_default === true}">
            <input type="checkbox" name="editTemplateDefault" [(ngModel)]="template.is_default" (click)="refreshEditedTemplate(template)"> default
          </label>
        </div>
        <div class="form-group">
          <label for="editDocumentCollection">Collection</label>
          <div id="editDocumentCollection" class="template-element-input" ngbDropdown>
            <span class="dropdown-element" ngbDropdownToggle><i class="template-element-icon-no-margin fa fa-database"></i></span>
            <input class="template-element-title-input" type="text" [(ngModel)]="template.collection" name="editDocumentCollection" placeholder="Name new">
            <ul class="dropdown-menu qcms-dropdown-menu">
              <li class="drodown-menu-element" *ngFor="let collection of documentCollections" (click)="editCollection(collection);"><i class="template-element-icon fa fa-database"></i>{{collection}}</li>
            </ul>
          </div>
        </div>
        <div class="form-group">
          <label for="editTemplateElements">Elements</label>
          <div id="editTemplateElements">
            <div class="template-element" *ngFor="let element of template.elements">
              <i class="template-element-icon fa fa-{{element.icon}}"></i>{{element.title}}
              <button class="btn btn-qcms template-element-btn" (click)="removeEditElement(element.index)"><i class="fa fa-minus"></i></button>
            </div>
            <div class="template-element-input" ngbDropdown>
              <span class="dropdown-element" ngbDropdownToggle><i class="template-element-icon-no-margin fa fa-{{chosenElement.icon}}"></i></span>
              <input class="template-element-title-input" type="text" [(ngModel)]="chosenElement.title" name="chosenElementTitle" placeholder="Enter title">
              <button class="btn btn-qcms template-element-btn" (click)="addEditElement(chosenElement, 'edit')" [disabled]="chosenElement.title === ''"><i class="fa fa-plus"></i></button>
              <ul class="dropdown-menu qcms-dropdown-menu">
                <li class="drodown-menu-element" *ngFor="let element of elementsList" (click)="choseElement(element);"><i class="template-element-icon fa fa-{{element.icon}}"></i>{{element.type}}</li>
              </ul>
            </div>
          </div>
        </div>
        <button class="btn btn-qcms pull-right" (click)="editTemplate()" [disabled]="template.name === '' || template.elements.length === 0 || template.collection.name === ''">Save</button>
        <button class="btn btn-qcms btn-qcms-icon pull-right" (click)="deleteTemplate(template)"><i class="fa fa-trash-o"></i></button>
      </form>
      <div class="qcms-alert-fade-in right-bar-alert" [ngClass]="{'qcms-alert-fade-out': hideAlert === true}" *ngIf="showAlert === true">
        <ngb-alert [type]="alert.type" [dismissible]="alert.dismissible">{{alert.message}}</ngb-alert>
      </div>
    </div>
    <!-- USE TEMPLATE -->
    <div class="use-template-form" *ngIf="scenario==='useTemplate'">
      <form name="useTemplate">
        <small><label><i class="fa" [ngClass]="{'fa-file-o': template.is_default === false, 'fa-heart-o': template.is_default === true}"></i>&nbsp;&nbsp;{{template.name}} ({{template.collection}})</label></small>
        <hr />
        <div class="form-group">
          <label for="useDocumentTitle">Title</label>
          <input id="useDocumentTitle" name="useDocumentTitle" class="form-control qcms-form-input" type="text" [(ngModel)]="documentTitle">
        </div>
        <div class="form-group">
          <label for="useDocumentPicture">Picture</label>
          <input id="useDocumentPicture" name="useDocumentPicture" class="form-control qcms-form-input" type="text" placeholder="#ToDo picture input" disabled>
        </div>
        <div class="form-group">
          <label for="useDocumentFile">File</label>
          <input id="useDocumentFile" name="useDocumentFile" class="form-control qcms-form-input" type="text" placeholder="#ToDo file input" disabled>
        </div>
        <button class="btn btn-qcms pull-right" [disabled]="documentTitle === ''" (click)="addDocument(documentTitle, template)">Save</button>
        <div class="qcms-alert-fade-in right-bar-alert" [ngClass]="{'qcms-alert-fade-out': hideAlert === true}" *ngIf="showAlert === true">
            <ngb-alert [type]="alert.type" [dismissible]="alert.dismissible">{{alert.message}}</ngb-alert>
          </div>
      </form>
    </div>
    <!-- EDIT DOCUMENT -->
    <div class="edit-document-form" *ngIf="scenario==='editDocument'">
      <form name="editDocument">
        <small><label><i class="fa" [ngClass]="{'fa-file-o': template.is_default === false, 'fa-heart-o': template.is_default === true}"></i>&nbsp;&nbsp;{{template.name}} ({{template.collection}})</label></small>
        <hr />
        <div class="form-group">
          <label for="editDocumentTitle">Title</label>
          <input id="editDocumentTitle" name="editDocumentTitle" class="form-control qcms-form-input" type="text" [(ngModel)]="document.title">
        </div>
        <div class="form-group">
          <label for="editDocumentPicture">Picture</label>
          <input id="editDocumentPicture" name="editDocumentPicture" class="form-control qcms-form-input" type="text" placeholder="#ToDo picture input" disabled>
        </div>
        <div class="form-group">
          <label for="editDocumentFile">File</label>
          <input id="editDocumentFile" name="editDocumentFile" class="form-control qcms-form-input" type="text" placeholder="#ToDo file input" disabled>
        </div>
        <button class="btn btn-qcms pull-right" [disabled]="document.title === ''" (click)="editDocument(document)">Save</button>
        <button class="btn btn-qcms btn-qcms-icon pull-right" (click)="deleteDocument(document)"><i class="fa fa-trash-o"></i></button>
        <div class="qcms-alert-fade-in right-bar-alert" [ngClass]="{'qcms-alert-fade-out': hideAlert === true}" *ngIf="showAlert === true">
            <ngb-alert [type]="alert.type" [dismissible]="alert.dismissible">{{alert.message}}</ngb-alert>
          </div>
      </form>
    </div>
  </div>
</div>